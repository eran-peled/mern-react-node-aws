{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{Bm04:function(e,t,r){\"use strict\";r.r(t);var a=r(\"o0o1\"),n=r.n(a),o=r(\"HaE+\"),c=r(\"rePB\"),s=r(\"q1tI\"),u=r.n(s),l=r(\"a6RD\"),i=r.n(l),m=r(\"vDqi\"),b=r.n(m),p=r(\"fKpH\"),f=r.n(p),d=r(\"obyI\"),g=r(\"10oZ\"),O=r(\"5Yp1\"),v=r(\"tOng\"),w=(r(\"yOgr\"),u.a.createElement);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=i()((function(){return Promise.all([r.e(0),r.e(11),r.e(5),r.e(14)]).then(r.t.bind(null,\"rmP6\",7))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"rmP6\"]},modules:[\"react-quill\"]}});t.default=Object(v.default)((function(e){e.user;var t=e.token,r=Object(s.useState)({name:\"\",error:\"\",success:\"\",buttonText:\"Create\",image:\"\"}),a=r[0],u=r[1],l=Object(s.useState)(\"\"),i=l[0],m=l[1],p=Object(s.useState)(\"Upload image\"),v=p[0],h=p[1],E=a.name,N=a.success,P=a.error,C=a.image,x=a.buttonText,T=(a.imageUploadText,function(e){return function(t){var r;u(j(j({},a),{},(r={},Object(c.a)(r,e,t.target.value),Object(c.a)(r,\"error\",\"\"),Object(c.a)(r,\"success\",\"\"),r)))}}),_=function(e){console.log(e),m(e),u(j(j({},a),{},{success:\"\",error:\"\"}))},R=function(e){var t=!1;e.target.files[0]&&(t=!0),h(e.target.files[0].name),t&&f.a.imageFileResizer(e.target.files[0],300,300,\"JPEG\",100,0,(function(e){u(j(j({},a),{},{image:e,success:\"\",error:\"\"}))}),\"base64\")},D=function(){var e=Object(o.a)(n.a.mark((function e(r){var o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),u(j(j({},a),{},{buttonText:\"Creating\"})),console.table({name:E,content:i,image:C}),e.prev=3,e.next=6,b.a.post(\"\".concat(d.a,\"/category\"),{name:E,content:i,image:C},{headers:{Authorization:\"Bearer \".concat(t)}});case 6:o=e.sent,console.log(\"CATEGORY CREATE RESPONSE\",o),h(\"Upload image\"),m(\"\"),u(j(j({},a),{},{name:\"\",formData:\"\",buttonText:\"Created\",imageUploadText:\"Upload image\",success:\"\".concat(o.data.name,\" is created\")})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(\"CATEGORY CREATE ERROR\",e.t0),u(j(j({},a),{},{buttonText:\"Create\",error:e.t0.response.data.error}));case 17:case\"end\":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return w(O.a,null,w(\"div\",{className:\"row\"},w(\"div\",{className:\"col-md-6 offset-md-3\"},w(\"h1\",null,\"Create category\"),w(\"br\",null),N&&Object(g.b)(N),P&&Object(g.a)(P),w(\"form\",{onSubmit:D},w(\"div\",{className:\"form-group\"},w(\"label\",{className:\"text-muted\"},\"Name\"),w(\"input\",{onChange:T(\"name\"),value:E,type:\"text\",className:\"form-control\",required:!0})),w(\"div\",{className:\"form-group\"},w(\"label\",{className:\"text-muted\"},\"Content\"),w(y,{value:i,onChange:_,placeholder:\"Write something...\",theme:\"bubble\",className:\"pb-5 mb-3\",style:{border:\"1px solid #666\"}})),w(\"div\",{className:\"form-group\"},w(\"label\",{className:\"btn btn-outline-secondary\"},v,w(\"input\",{onChange:R,type:\"file\",accept:\"image/*\",className:\"form-control\",hidden:!0}))),w(\"div\",null,w(\"button\",{className:\"btn btn-outline-warning\"},x))))))}))},hswC:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/category/create\",function(){return r(\"Bm04\")}])}},[[\"hswC\",1,0,2,3,4,13,12]]]);","extractedComments":[]}