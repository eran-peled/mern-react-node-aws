{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{\"10oZ\":function(e,t,r){\"use strict\";r.d(t,\"b\",(function(){return c})),r.d(t,\"a\",(function(){return o}));var n=r(\"q1tI\"),a=r.n(n).a.createElement,c=function(e){return a(\"div\",{className:\"alert alert-success\"},e)},o=function(e){return a(\"div\",{className:\"alert alert-error\"},e)}},JH21:function(e,t,r){\"use strict\";r.r(t);var n=r(\"o0o1\"),a=r.n(n),c=r(\"rePB\"),o=r(\"HaE+\"),s=r(\"q1tI\"),u=r.n(s),i=r(\"vDqi\"),l=r.n(i),b=r(\"obyI\"),f=r(\"YFqc\"),p=r.n(f),d=r(\"10oZ\"),O=r(\"5Yp1\"),m=r(\"tOng\"),g=u.a.createElement;function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=Object(m.default)((function(e){e.user;var t=e.token,r=Object(s.useState)({error:\"\",success:\"\",categories:[]}),n=r[0],c=r[1],u=(n.error,n.success),i=n.categories;Object(s.useEffect)((function(){f()}),[]);var f=function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get(\"\".concat(b.a,\"/categories\"));case 2:t=e.sent,c(w(w({},n),{},{categories:t.data}));case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(a.a.mark((function e(r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete(\"\".concat(b.a,\"/category/\").concat(r),{headers:{Authorization:\"Bearer \".concat(t)}});case 3:n=e.sent,console.log(\"CATEGORY DELETE SUCCESS \",n),f(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(\"CATEGORY DELETE \",e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return g(O.a,null,g(\"div\",{className:\"row\"},g(\"div\",{className:\"col\"},g(\"h1\",null,\"List of categories\"),g(\"br\",null),u&&Object(d.b)(u))),g(\"div\",{className:\"row\"},i.map((function(e,t){return g(p.a,{key:t,href:\"/links/\".concat(e.slug)},g(\"a\",{style:{border:\"1px solid red\"},className:\"bg-light p-3 col-md-6\"},g(\"div\",null,g(\"div\",{className:\"row\"},g(\"div\",{className:\"col-md-3\"},g(\"img\",{src:e.image&&e.image.url,alt:e.name,style:{width:\"100px\",height:\"auto\"},className:\"pr-3\"})),g(\"div\",{className:\"col-md-6\"},g(\"h3\",null,e.name)),g(\"div\",{className:\"col-md-3\"},g(p.a,{href:\"/admin/category/\".concat(e.slug)},g(\"button\",{className:\"btn btn-sm btn-outline-success btn-block mb-1\"},\"Update\")),g(\"button\",{onClick:function(t){return function(e,t){e.preventDefault(),window.confirm(\"Are you sure you want to delete?\")&&m(t)}(t,e.slug)},className:\"btn btn-sm btn-outline-danger btn-block\"},\"Delete\"))))))}))))}))},\"kU/B\":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/category/read\",function(){return r(\"JH21\")}])},rePB:function(e,t,r){\"use strict\";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,\"a\",(function(){return n}))},tOng:function(e,t,r){\"use strict\";r.r(t);var n=r(\"o0o1\"),a=r.n(n),c=r(\"rePB\"),o=r(\"HaE+\"),s=r(\"q1tI\"),u=r.n(s),i=r(\"vDqi\"),l=r.n(i),b=r(\"obyI\"),f=r(\"rZ7M\"),p=u.a.createElement;function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=function(t){return p(e,t)};return t.getInitialProps=function(){var t=Object(o.a)(a.a.mark((function t(r){var n,c,o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(f.b)(\"token\",r.req),c=null,o=[],!n){t.next=15;break}return t.prev=4,t.next=7,l.a.get(\"\".concat(b.a,\"/admin\"),{headers:{authorization:\"Bearer \".concat(n),contentType:\"application/json\"}});case 7:s=t.sent,c=s.data.user,o=s.data.links,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),401===t.t0.response.status&&(c=null);case 15:if(null!==c){t.next=20;break}r.res.writeHead(302,{Location:\"/\"}),r.res.end(),t.next=35;break;case 20:if(t.t1=O,t.t2=O,t.t3={},!e.getInitialProps){t.next=29;break}return t.next=26,e.getInitialProps(r);case 26:t.t4=t.sent,t.next=30;break;case 29:t.t4={};case 30:return t.t5=t.t4,t.t6=(0,t.t2)(t.t3,t.t5),t.t7={},t.t8={user:c,token:n,userLinks:o},t.abrupt(\"return\",(0,t.t1)(t.t6,t.t7,t.t8));case 35:case\"end\":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}(),t}}},[[\"kU/B\",1,0,2,3,4]]]);","extractedComments":[]}