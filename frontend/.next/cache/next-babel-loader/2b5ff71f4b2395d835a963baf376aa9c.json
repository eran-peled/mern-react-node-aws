{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\mern-react-node-aws\\\\frontend\\\\pages\\\\user\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../../components/Layout';\nimport axios from 'axios';\nimport { API } from '../../config';\nimport { getCookie } from '../../helpers/auth';\n\nconst User = ({\n  user\n}) => __jsx(Layout, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 28\n  }\n}, JSON.stringify(user));\n\nUser.getInitialProps = async context => {\n  const token = getCookie('token', context.req);\n\n  try {\n    const response = await axios.get(`${API}/user`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n        contentType: 'application/json'\n      }\n    });\n    return {\n      user: response.data\n    };\n  } catch (error) {\n    if (error.response.status === 401) {\n      return {\n        user: 'no user'\n      };\n    }\n  }\n};\n\nexport default User;","map":{"version":3,"sources":["C:/Projects/mern-react-node-aws/frontend/pages/user/index.js"],"names":["Layout","axios","API","getCookie","User","user","JSON","stringify","getInitialProps","context","token","req","response","get","headers","authorization","contentType","data","error","status"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,yBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,SAASC,SAAT,QAA0B,oBAA1B;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAASC,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAT,CAA3B;;AAEAD,IAAI,CAACI,eAAL,GAAuB,MAAMC,OAAN,IAAiB;AACpC,QAAMC,KAAK,GAAGP,SAAS,CAAC,OAAD,EAAUM,OAAO,CAACE,GAAlB,CAAvB;;AACA,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,GAAN,CAAW,GAAEX,GAAI,OAAjB,EAAyB;AAC5CY,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAASL,KAAM,EAD1B;AAELM,QAAAA,WAAW,EAAE;AAFR;AADmC,KAAzB,CAAvB;AAMA,WAAO;AAAEX,MAAAA,IAAI,EAAEO,QAAQ,CAACK;AAAjB,KAAP;AACH,GARD,CAQE,OAAOC,KAAP,EAAc;AACZ,QAAIA,KAAK,CAACN,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AAC/B,aAAO;AAAEd,QAAAA,IAAI,EAAE;AAAR,OAAP;AACH;AACJ;AACJ,CAfD;;AAiBA,eAAeD,IAAf","sourcesContent":["import Layout from '../../components/Layout';\r\nimport axios from 'axios';\r\nimport { API } from '../../config';\r\nimport { getCookie } from '../../helpers/auth';\r\n\r\nconst User = ({ user }) => <Layout>{JSON.stringify(user)}</Layout>;\r\n\r\nUser.getInitialProps = async context => {\r\n    const token = getCookie('token', context.req);\r\n    try {\r\n        const response = await axios.get(`${API}/user`, {\r\n            headers: {\r\n                authorization: `Bearer ${token}`,\r\n                contentType: 'application/json'\r\n            }\r\n        });\r\n        return { user: response.data };\r\n    } catch (error) {\r\n        if (error.response.status === 401) {\r\n            return { user: 'no user' };\r\n        }\r\n    }\r\n};\r\n\r\nexport default User;\r\n"]},"metadata":{},"sourceType":"module"}