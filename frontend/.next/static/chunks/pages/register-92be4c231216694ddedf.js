_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{"10oZ":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return c}));var n=r("q1tI"),a=r.n(n).a.createElement,o=function(e){return a("div",{className:"alert alert-success"},e)},c=function(e){return a("div",{className:"alert alert-error"},e)}},DvIn:function(e,t,r){"use strict";r.r(t);var n=r("KQm4"),a=r("o0o1"),o=r.n(a),c=r("rePB"),s=r("HaE+"),u=r("q1tI"),i=r.n(u),l=r("5Yp1"),f=r("nOHt"),p=r.n(f),m=r("vDqi"),b=r.n(m),d=r("10oZ"),g=r("obyI"),y=r("rZ7M"),v=i.a.createElement;function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){var e=Object(u.useState)({name:"Eran",email:"eranltd@gmail.com",password:"",error:"",success:"",buttonText:"Register",loadedCategories:[],categories:[]}),t=e[0],r=e[1],a=t.name,i=t.email,f=t.password,m=t.error,O=t.success,j=t.buttonText,h=t.loadedCategories,N=t.categories;Object(u.useEffect)((function(){Object(y.c)()&&p.a.push("/")}),[]),Object(u.useEffect)((function(){x()}),[]);var x=function(){var e=Object(s.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(g.a,"/categories"));case 2:n=e.sent,r(w(w({},t),{},{loadedCategories:n.data}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){return function(){var a=N.indexOf(e),o=Object(n.a)(N);-1===a?o.push(e):o.splice(a,1),console.log("all >> categories",o),r(w(w({},t),{},{categories:o,success:"",error:""}))}},_=function(e){return function(n){var a;r(w(w({},t),{},(a={},Object(c.a)(a,e,n.target.value),Object(c.a)(a,"error",""),Object(c.a)(a,"success",""),Object(c.a)(a,"buttonText","Register"),a)))}},P=function(){var e=Object(s.a)(o.a.mark((function e(n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.table({name:a,email:i,password:f,categories:N}),r(w(w({},t),{},{buttonText:"Registering"})),e.prev=3,e.next=6,b.a.post("".concat(g.a,"/register"),{name:a,email:i,password:f,categories:N});case 6:c=e.sent,console.log(c),r(w(w({},t),{},{name:"",email:"",password:"",buttonText:"Submitted",success:c.data.message})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),r(w(w({},t),{},{buttonText:"Register",error:e.t0.response.data.error}));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return v(l.a,null,v("div",{className:"col-md-6 offset-md-3"},v("h1",null,"Register"),v("br",null),O&&Object(d.b)(O),m&&Object(d.a)(m),v("form",{onSubmit:P},v("div",{className:"form-group"},v("input",{value:a,onChange:_("name"),type:"text",className:"form-control",placeholder:"Type your name",required:!0})),v("div",{className:"form-group"},v("input",{value:i,onChange:_("email"),type:"email",className:"form-control",placeholder:"Type your email",required:!0})),v("div",{className:"form-group"},v("input",{value:f,onChange:_("password"),type:"password",className:"form-control",placeholder:"Type your password",required:!0})),v("div",{className:"form-group"},v("label",{className:"text-muted ml-4"},"Category"),v("ul",{style:{maxHeight:"100px",overflowY:"scroll"}},h&&h.map((function(e,t){return v("li",{className:"list-unstyled",key:e._id},v("input",{type:"checkbox",onChange:E(e._id),className:"mr-2"}),v("label",{className:"form-check-label"},e.name))})))),v("div",{className:"form-group"},v("button",{className:"btn btn-outline-warning"},j)))))}},KQm4:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return a}))},gSeQ:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r("DvIn")}])},rePB:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))}},[["gSeQ",1,0,2,3,4]]]);