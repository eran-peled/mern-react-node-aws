_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{"10oZ":function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return o}));var a=r("q1tI"),n=r.n(a).a.createElement,c=function(e){return n("div",{className:"alert alert-success"},e)},o=function(e){return n("div",{className:"alert alert-error"},e)}},"4POt":function(e,t,r){"use strict";r.r(t);var a=r("KQm4"),n=r("o0o1"),c=r.n(n),o=r("rePB"),s=r("HaE+"),i=r("q1tI"),l=r.n(i),u=r("5Yp1"),m=r("vDqi"),f=r.n(m),d=r("rZ7M"),p=r("obyI"),b=r("10oZ"),v=l.a.createElement;function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e){var t=e.token,r=Object(i.useState)({title:"",url:"",categories:[],loadedCategories:[],success:"",error:"",type:"",medium:""}),n=r[0],o=r[1],m=n.title,y=n.url,h=n.categories,N=n.loadedCategories,k=n.success,O=n.error,w=n.type,j=n.medium;Object(i.useEffect)((function(){P()}),[k]);var P=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(p.a,"/categories"));case 2:t=e.sent,o(g(g({},n),{},{loadedCategories:t.data}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){o(g(g({},n),{},{title:e.target.value,error:"",success:""}))},_=function(e){o(g(g({},n),{},{url:e.target.value,error:"",success:""}))},C=function(){var e=Object(s.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,f.a.post("".concat(p.a,"/link"),{title:m,url:y,categories:h,type:w,medium:j},{headers:{Authorization:"Bearer ".concat(t)}});case 4:e.sent,o(g(g({},n),{},{title:"",url:"",success:"Link is created",error:"",loadedCategories:[],categories:[],type:"",medium:""})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("LINK SUBMIT ERROR",e.t0),o(g(g({},n),{},{error:e.t0.response.data.error}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){o(g(g({},n),{},{type:e.target.value,success:"",error:""}))},S=function(e){o(g(g({},n),{},{medium:e.target.value,success:"",error:""}))},I=function(e){return function(){var t=h.indexOf(e),r=Object(a.a)(h);-1===t?r.push(e):r.splice(t,1),console.log("all >> categories",r),o(g(g({},n),{},{categories:r,success:"",error:""}))}};return v(u.a,null,v("div",{className:"row"},v("div",{className:"col-md-12"},v("h1",null,"Submit Link/URL"),v("br",null))),v("div",{className:"row"},v("div",{className:"col-md-4"},v("div",{className:"form-group"},v("label",{className:"text-muted ml-4"},"Category"),v("ul",{style:{maxHeight:"100px",overflowY:"scroll"}},N&&N.map((function(e,t){return v("li",{className:"list-unstyled",key:e._id},v("input",{type:"checkbox",onChange:I(e._id),className:"mr-2"}),v("label",{className:"form-check-label"},e.name))})))),v("div",{className:"form-group"},v("label",{className:"text-muted ml-4"},"Type"),v(l.a.Fragment,null,v("div",{className:"form-check ml-3"},v("label",{className:"form-check-label"},v("input",{type:"radio",onClick:E,checked:"free"===w,value:"free",className:"from-check-input",name:"type"})," ","Free")),v("div",{className:"form-check ml-3"},v("label",{className:"form-check-label"},v("input",{type:"radio",onClick:E,checked:"paid"===w,value:"paid",className:"from-check-input",name:"type"})," ","Paid")))),v("div",{className:"form-group"},v("label",{className:"text-muted ml-4"},"Medium"),v(l.a.Fragment,null,v("div",{className:"form-check ml-3"},v("label",{className:"form-check-label"},v("input",{type:"radio",onClick:S,checked:"video"===j,value:"video",className:"from-check-input",name:"medium"})," ","Video")),v("div",{className:"form-check ml-3"},v("label",{className:"form-check-label"},v("input",{type:"radio",onClick:S,checked:"book"===j,value:"book",className:"from-check-input",name:"medium"})," ","Book"))))),v("div",{className:"col-md-8"},k&&Object(b.b)(k),O&&Object(b.a)(O),v("form",{onSubmit:C},v("div",{className:"form-group"},v("label",{className:"text-muted"},"Title"),v("input",{type:"text",className:"form-control",onChange:x,value:m})),v("div",{className:"form-group"},v("label",{className:"text-muted"},"URL"),v("input",{type:"url",className:"form-control",onChange:_,value:y})),v("div",null,v("button",{disabled:!t,className:"btn btn-outline-warning",type:"submit"},Object(d.c)()||t?"Post":"Login to post"))))))};h.getInitialProps=function(e){var t=e.req;return{token:Object(d.b)("token",t)}},t.default=h},KQm4:function(e,t,r){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return n}))},iZrK:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/link/create",function(){return r("4POt")}])},rePB:function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return a}))}},[["iZrK",1,0,2,3,4]]]);